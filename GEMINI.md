# GEMINI.md

This document provides a comprehensive overview of the "Mind-Auditing Notes" project, intended as a guide for developers and future interactions with the Gemini CLI.

## Project Overview

This is a research project for an iOS application called "Mind-Auditing Notes." The application is designed to help users externalize their thoughts and concerns, manage their cognitive load, and improve their working memory. It uses a dynamic UI generated by a server-side LLM (Gemini 1.5 Flash) and is displayed in a SwiftUI shell with a WKWebView.

The project is a full-stack application with a TypeScript-based frontend and backend.

*   **Frontend (`concern-app`):** A React application built with Vite. It uses Tailwind CSS for styling and Capacitor for building the mobile application.
*   **Backend (`server`):** A Hono application running on Bun. It uses Drizzle ORM for database interactions with a PostgreSQL database and Zod for data validation.

The project also includes a comprehensive set of documentation in the `specs` directory, which covers the system architecture, DSLs, and research protocol.

## Building and Running

### Full-Stack

A tmux script is provided to run the full-stack application:

```bash
./tmux-fullstack.sh
```

This will start the backend server on port 3000 and the frontend development server on port 5173.

### Backend (`server`)

*   **Run in development mode:** `bun run dev`
*   **Start the server:** `bun start`
*   **Build the server:** `bun build`
*   **Database migrations:**
    *   `bun run db:generate`: Generate migration files.
    *   `bun run db:migrate`: Apply migrations.
    *   `bun run db:push`: Push database schema changes.
    *   `bun run db:studio`: Open the Drizzle DB studio.
    *   `bun run db:reset`: Reset the database.
*   **Run tests:** `bun test`

### Frontend (`concern-app`)

*   **Run in development mode:** `npm run dev` or `bun run dev`
*   **Build the application:** `npm run build` or `bun run build`
*   **Lint the code:** `npm run lint` or `bun run lint`
*   **Preview the build:** `npm run preview` or `bun run preview`

## Development Conventions

*   **Code Style:** The project uses ESLint for code linting. The configuration can be found in `concern-app/.eslintrc.js`.
*   **Testing:** The backend uses `bun test` for running tests. Test files are located in the `server/test` directory.
*   **Documentation:** All documentation is located in the `specs` directory and is written in Markdown. It is organized into subdirectories for API schema, development, DSL design, project management, research, system design, testing, and UI design.
*   **DSLs:** The project uses two main DSLs:
    *   **Thought Organization DSL:** A two-layer architecture for generating dynamic UIs for capturing, planning, and breaking down thoughts.
    *   **Task Recommendation DSL:** A simpler DSL for recommending tasks to the user.
    More information about the DSLs can be found in `specs/dsl-design/DSL_Overview_v1.0.md`.
*   **Git:** All developers should follow standard Git workflows. All commits should be atomic and have clear and concise commit messages.

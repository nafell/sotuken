# Phase 2 Step 5: A/Bãƒ†ã‚¹ãƒˆæ‰‹å‹•å‰²ã‚Šå½“ã¦æ©Ÿæ§‹ - å®Ÿè£…ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025å¹´10æœˆ19æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**å®Ÿè£…è€…**: AI Agent  
**å®Ÿè£…å®Œäº†æ—¥**: 2025å¹´10æœˆ19æ—¥

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [ã‚µãƒ¼ãƒãƒ¼å´å®Ÿè£…](#ã‚µãƒ¼ãƒãƒ¼å´å®Ÿè£…)
4. [ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…](#ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…)
5. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](#ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
6. [APIä»•æ§˜](#apiä»•æ§˜)
7. [ç”»é¢ä»•æ§˜](#ç”»é¢ä»•æ§˜)
8. [é‹ç”¨ãƒ•ãƒ­ãƒ¼](#é‹ç”¨ãƒ•ãƒ­ãƒ¼)
9. [å®Ÿè£…ã®åˆ¶ç´„ã¨æ³¨æ„äº‹é …](#å®Ÿè£…ã®åˆ¶ç´„ã¨æ³¨æ„äº‹é …)

---

## æ¦‚è¦

### ç›®çš„
å‹•çš„UIç‰ˆã¨å›ºå®šUIç‰ˆã®A/Bãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹ãŸã‚ã€ç®¡ç†è€…ãŒè¢«é¨“è€…ã«å®Ÿé¨“æ¡ä»¶ã‚’æ‰‹å‹•ã§å‰²ã‚Šå½“ã¦ã‚‹æ©Ÿæ§‹ã‚’å®Ÿè£…ã™ã‚‹ã€‚

### èƒŒæ™¯
- è¢«é¨“è€…æ•°ãŒå°‘ãªã„ï¼ˆ5åç¨‹åº¦ï¼‰ãŸã‚ã€ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹è‡ªå‹•å‰²ã‚Šå½“ã¦ã‹ã‚‰æ‰‹å‹•å‰²ã‚Šå½“ã¦ã«è¨­è¨ˆå¤‰æ›´
- ç®¡ç†è€…ãŒå„è¢«é¨“è€…ã®å±æ€§ã‚’è€ƒæ…®ã—ã¦å‡ç­‰ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã§ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸãƒ‡ãƒ¼ã‚¿åé›†ãŒå¯èƒ½

### ã‚¹ã‚³ãƒ¼ãƒ—
- âœ… ã‚µãƒ¼ãƒãƒ¼å´å®Ÿé¨“æ¡ä»¶ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹
- âœ… ç®¡ç†è€…ç”¨API
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿé¨“æ¡ä»¶å–å¾—ã‚µãƒ¼ãƒ“ã‚¹
- âœ… æ¡ä»¶åˆ¥ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿæ§‹
- âœ… æœªå‰²ã‚Šå½“ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ç”»é¢
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨è¨­å®šç”»é¢
- âœ… ç®¡ç†è€…ç”¨æ¡ä»¶ç®¡ç†ç”»é¢

### å¯¾è±¡å¤–
- âŒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ°¸ç¶šåŒ–ï¼ˆç¾æ™‚ç‚¹ã§ã¯ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã¿ï¼‰
- âŒ å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—APIï¼ˆãƒ•ã‚§ãƒ¼ã‚ºå¤–ï¼‰
- âŒ èªè¨¼ãƒ»èªå¯æ©Ÿæ§‹

---

## ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Browser (Client)                     â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               App.tsx (ãƒ«ãƒ¼ãƒˆ)                   â”‚   â”‚
â”‚  â”‚  - experimentService.fetchCondition() å‘¼ã³å‡ºã—   â”‚   â”‚
â”‚  â”‚  - æ¡ä»¶ã«å¿œã˜ã¦Navigatorã‚’åˆ‡ã‚Šæ›¿ãˆ               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                           â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚       â”‚                â”‚                 â”‚              â”‚
â”‚   condition=null   dynamic_ui       static_ui           â”‚
â”‚       â”‚                â”‚                 â”‚              â”‚
â”‚       â–¼                â–¼                 â–¼              â”‚
â”‚  UnassignedScreen  DynamicUI         StaticUI           â”‚
â”‚                    Navigator          Navigator          â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         ClientExperimentService                  â”‚   â”‚
â”‚  â”‚  - fetchCondition() â†’ /v1/config                â”‚   â”‚
â”‚  â”‚  - switchCondition() (ãƒ‡ãƒãƒƒã‚°ç”¨)               â”‚   â”‚
â”‚  â”‚  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       AdminUserManagement (ç®¡ç†è€…ç”»é¢)          â”‚   â”‚
â”‚  â”‚  - /admin/assignments API å‘¼ã³å‡ºã—              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ HTTP
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Server (Hono)                         â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         GET /v1/config (æ¡ä»¶é…å¸ƒ)                â”‚   â”‚
â”‚  â”‚  - experimentService.getCondition(userId)        â”‚   â”‚
â”‚  â”‚  - æœªå‰²ã‚Šå½“ã¦æ™‚ã¯ condition: null ã‚’è¿”ã™        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         /admin/* (ç®¡ç†è€…API)                     â”‚   â”‚
â”‚  â”‚  - GET /admin/assignments                        â”‚   â”‚
â”‚  â”‚  - GET /admin/assignments/counts                 â”‚   â”‚
â”‚  â”‚  - POST /admin/assignments                       â”‚   â”‚
â”‚  â”‚  - DELETE /admin/assignments/:userId             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           ExperimentService                      â”‚   â”‚
â”‚  â”‚  - getCondition(userId)                          â”‚   â”‚
â”‚  â”‚  - assignConditionManually(...)                  â”‚   â”‚
â”‚  â”‚  - getAllAssignments()                           â”‚   â”‚
â”‚  â”‚  - getAssignmentCounts()                         â”‚   â”‚
â”‚  â”‚  - removeAssignment(userId)                      â”‚   â”‚
â”‚  â”‚  - assignmentCache (Map)                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®ä¾å­˜é–¢ä¿‚

```
App.tsx
  â””â”€ ClientExperimentService
       â””â”€ /v1/config API
            â””â”€ ExperimentService

AdminUserManagement
  â””â”€ /admin/assignments API
       â””â”€ ExperimentService
```

---

## ã‚µãƒ¼ãƒãƒ¼å´å®Ÿè£…

### 1. ExperimentService

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/server/src/services/ExperimentService.ts`

#### è²¬å‹™
- å®Ÿé¨“æ¡ä»¶ã®ç®¡ç†ï¼ˆæ‰‹å‹•å‰²ã‚Šå½“ã¦æ–¹å¼ï¼‰
- å‰²ã‚Šå½“ã¦çŠ¶æ³ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
- æ¡ä»¶åˆ¥çµ±è¨ˆæƒ…å ±ã®æä¾›

#### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```typescript
export interface ExperimentAssignment {
  userId: string;
  condition: 'dynamic_ui' | 'static_ui' | null;
  assignedAt: Date | null;
  method: 'manual';
  experimentId: string;
  assignedBy?: string;
  note?: string;
}

export class ExperimentService {
  private experimentId: string = 'exp_2025_10';
  private assignmentCache: Map<string, ExperimentAssignment>;

  constructor()
  async getCondition(userId: string): Promise<ExperimentAssignment>
  async assignConditionManually(userId, condition, assignedBy, note?): Promise<ExperimentAssignment>
  async getAllAssignments(): Promise<ExperimentAssignment[]>
  async getAssignmentCounts(): Promise<{dynamic_ui, static_ui, unassigned}>
  async removeAssignment(userId: string): Promise<void>
}
```

#### ãƒ¡ã‚½ãƒƒãƒ‰è©³ç´°

##### `getCondition(userId: string)`
**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿé¨“æ¡ä»¶ã‚’å–å¾—

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯
2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ã‚Œã°ãã‚Œã‚’è¿”ã™
3. ãªã‘ã‚Œã°æœªå‰²ã‚Šå½“ã¦ï¼ˆcondition: nullï¼‰ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™

**æˆ»ã‚Šå€¤**:
```typescript
{
  userId: "user_xxx",
  condition: null | "dynamic_ui" | "static_ui",
  assignedAt: null | Date,
  method: "manual",
  experimentId: "exp_2025_10"
}
```

##### `assignConditionManually(userId, condition, assignedBy, note?)`
**ç›®çš„**: ç®¡ç†è€…ãŒæ¡ä»¶ã‚’æ‰‹å‹•å‰²ã‚Šå½“ã¦

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `userId`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
- `condition`: 'dynamic_ui' | 'static_ui'
- `assignedBy`: å‰²ã‚Šå½“ã¦ã‚’å®Ÿæ–½ã—ãŸç®¡ç†è€…ID
- `note`: å‰²ã‚Šå½“ã¦æ™‚ã®ãƒ¡ãƒ¢ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. å‰²ã‚Šå½“ã¦æƒ…å ±ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°å‡ºåŠ›

**æˆ»ã‚Šå€¤**: ExperimentAssignment

##### `getAllAssignments()`
**ç›®çš„**: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰²ã‚Šå½“ã¦çŠ¶æ³ã‚’å–å¾—ï¼ˆç®¡ç†ç”»é¢ç”¨ï¼‰

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å…¨å‰²ã‚Šå½“ã¦æƒ…å ±ã‚’å–å¾—
2. é…åˆ—ã¨ã—ã¦è¿”ã™

**æˆ»ã‚Šå€¤**: ExperimentAssignment[]

##### `getAssignmentCounts()`
**ç›®çš„**: æ¡ä»¶åˆ¥ã®äººæ•°ã‚’å–å¾—ï¼ˆç®¡ç†ç”»é¢ç”¨ï¼‰

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å„æ¡ä»¶ã®äººæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
2. æœªå‰²ã‚Šå½“ã¦æ•°ã‚’è¨ˆç®—ï¼ˆTODO: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã‹ã‚‰ç®—å‡ºï¼‰

**æˆ»ã‚Šå€¤**:
```typescript
{
  dynamic_ui: number,
  static_ui: number,
  unassigned: number
}
```

##### `removeAssignment(userId: string)`
**ç›®çš„**: å‰²ã‚Šå½“ã¦ã‚’å‰Šé™¤ï¼ˆãƒªã‚»ãƒƒãƒˆç”¨ï¼‰

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å‰Šé™¤
2. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°å‡ºåŠ›

#### åˆ¶ç´„ãƒ»æ³¨æ„äº‹é …
- âš ï¸ ç¾æ™‚ç‚¹ã§ã¯ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã¿ï¼ˆã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã§æ¶ˆå¤±ï¼‰
- âš ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ°¸ç¶šåŒ–ã¯æœªå®Ÿè£…ï¼ˆTODOã‚³ãƒ¡ãƒ³ãƒˆæœ‰ã‚Šï¼‰
- âš ï¸ å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã®å–å¾—ã¯æœªå®Ÿè£…

---

### 2. ç®¡ç†è€…ç”¨APIãƒ«ãƒ¼ãƒˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/server/src/routes/admin.ts`

#### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/admin/assignments` | å…¨å‰²ã‚Šå½“ã¦çŠ¶æ³å–å¾— |
| GET | `/admin/assignments/counts` | æ¡ä»¶åˆ¥äººæ•°å–å¾— |
| POST | `/admin/assignments` | æ¡ä»¶æ‰‹å‹•å‰²ã‚Šå½“ã¦ |
| DELETE | `/admin/assignments/:userId` | å‰²ã‚Šå½“ã¦å‰Šé™¤ |
| GET | `/admin/health` | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ |

è©³ç´°ã¯ [APIä»•æ§˜](#apiä»•æ§˜) ã‚’å‚ç…§ã€‚

---

### 3. è¨­å®šé…å¸ƒAPIæ›´æ–°

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/server/src/routes/config.ts`

#### å¤‰æ›´å†…å®¹
- `experimentService.getOrAssignCondition()` â†’ `experimentService.getCondition()` ã«å¤‰æ›´
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã« `experimentId` ã‚’è¿½åŠ 
- `condition: null`ï¼ˆæœªå‰²ã‚Šå½“ã¦ï¼‰ã«å¯¾å¿œ
- `assignedBy` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã‚ã‚‹

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
```json
{
  "configVersion": "v1.0",
  "weightsVersion": "v1.0",
  "experimentId": "exp_2025_10",
  "experimentAssignment": {
    "condition": null,
    "assignedAt": null,
    "method": "manual",
    "assignedBy": null
  },
  "weights": { ... },
  "uiNoveltyPolicy": { ... },
  "model": { ... }
}
```

---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…

### 1. ClientExperimentService

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/services/ClientExperimentService.ts`

#### è²¬å‹™
- ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å®Ÿé¨“æ¡ä»¶ã‚’å–å¾—
- å®Ÿé¨“æ¡ä»¶ã‚’ãƒ¡ãƒ¢ãƒªã¨ãƒ­ãƒ¼ã‚«ãƒ«DBã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- æœªå‰²ã‚Šå½“ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¤œå‡º
- ãƒ‡ãƒãƒƒã‚°ç”¨ã®æ¡ä»¶åˆ‡ã‚Šæ›¿ãˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰

#### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```typescript
export type ExperimentCondition = 'dynamic_ui' | 'static_ui' | null;

export class ClientExperimentService {
  private static instance: ClientExperimentService | null = null;
  private condition: ExperimentCondition = null;
  private experimentId: string | null = null;

  static getInstance(): ClientExperimentService
  async fetchCondition(): Promise<ExperimentCondition>
  getCachedCondition(): ExperimentCondition
  async switchCondition(newCondition): Promise<void>
  getExperimentId(): string | null
}
```

#### ãƒ¡ã‚½ãƒƒãƒ‰è©³ç´°

##### `fetchCondition()`
**ç›®çš„**: å®Ÿé¨“æ¡ä»¶ã‚’ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å–å¾—

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆæ—¢ã«ã‚ã‚Œã°ãã‚Œã‚’è¿”ã™ï¼‰
2. userIdã‚’localStorageã‹ã‚‰å–å¾—
3. `/v1/config` APIã‚’å‘¼ã³å‡ºã—
4. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‹ã‚‰æ¡ä»¶ã‚’å–å¾—ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥
5. ãƒ­ãƒ¼ã‚«ãƒ«DBã«ä¿å­˜
6. ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°è¨˜éŒ²ï¼ˆ`experiment_condition_assigned`ï¼‰
7. ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ­ãƒ¼ã‚«ãƒ«DBã‹ã‚‰ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

**æˆ»ã‚Šå€¤**: ExperimentCondition (null | 'dynamic_ui' | 'static_ui')

##### `getCachedCondition()`
**ç›®çš„**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸæ¡ä»¶ã‚’å³åº§ã«å–å¾—

**æˆ»ã‚Šå€¤**: ExperimentCondition

##### `switchCondition(newCondition)`
**ç›®çš„**: ãƒ‡ãƒãƒƒã‚°ç”¨ã®æ¡ä»¶åˆ‡ã‚Šæ›¿ãˆ

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. æœ¬ç•ªç’°å¢ƒãƒã‚§ãƒƒã‚¯ï¼ˆæœ¬ç•ªã§ã¯å®Ÿè¡Œä¸å¯ï¼‰
2. æ¡ä»¶ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
3. ãƒ­ãƒ¼ã‚«ãƒ«DBã«ä¿å­˜ï¼ˆ`conditionOverriddenByUser: true`ï¼‰
4. ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°è¨˜éŒ²ï¼ˆ`experiment_condition_switched`ï¼‰
5. ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰

**åˆ¶ç´„**:
- âš ï¸ é–‹ç™ºç’°å¢ƒï¼ˆ`import.meta.env.DEV`ï¼‰ã§ã®ã¿å®Ÿè¡Œå¯èƒ½
- âš ï¸ æœ¬ç•ªç’°å¢ƒã§ã¯æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³

---

### 2. App.tsxï¼ˆæ¡ä»¶åˆ¥ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/App.tsx`

#### è²¬å‹™
- ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«å®Ÿé¨“æ¡ä»¶ã‚’å–å¾—
- æ¡ä»¶ã«å¿œã˜ã¦é©åˆ‡ãªNavigatorã‚’è¡¨ç¤º
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ 

```typescript
function App() {
  const [condition, setCondition] = useState<ExperimentCondition>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    experimentService.fetchCondition()
      .then(setCondition)
      .finally(() => setIsLoading(false));
  }, []);

  if (isLoading) return <LoadingScreen />;

  return (
    <Router>
      {condition === null ? (
        <UnassignedScreen />
      ) : condition === 'dynamic_ui' ? (
        <DynamicUINavigator />
      ) : (
        <StaticUINavigator />
      )}
    </Router>
  );
}
```

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
èµ·å‹•
  â†“
å®Ÿé¨“æ¡ä»¶å–å¾—ï¼ˆexperimentService.fetchCondition()ï¼‰
  â†“
â”œâ”€ Loading...
â”‚
â”œâ”€ condition === null â†’ UnassignedScreen
â”‚   ï¼ˆç®¡ç†è€…ã«ã‚ˆã‚‹å‰²ã‚Šå½“ã¦å¾…ã¡ï¼‰
â”‚
â”œâ”€ condition === 'dynamic_ui' â†’ DynamicUINavigator
â”‚   ï¼ˆå‹•çš„UIç‰ˆãƒ•ãƒ­ãƒ¼ï¼‰
â”‚
â””â”€ condition === 'static_ui' â†’ StaticUINavigator
    ï¼ˆå›ºå®šUIç‰ˆãƒ•ãƒ­ãƒ¼ï¼‰
```

---

### 3. UnassignedScreen

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/screens/UnassignedScreen.tsx`

#### è²¬å‹™
- æœªå‰²ã‚Šå½“ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ã®å¾…æ©Ÿç”»é¢ã‚’è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®è¡¨ç¤ºãƒ»ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
- å†èª­ã¿è¾¼ã¿æ©Ÿèƒ½

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â³                      â”‚
â”‚                                    â”‚
â”‚   å®Ÿé¨“æ¡ä»¶ã®å‰²ã‚Šå½“ã¦å¾…ã¡           â”‚
â”‚                                    â”‚
â”‚   ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¯ã¾ã          â”‚
â”‚   å®Ÿé¨“æ¡ä»¶ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦         â”‚
â”‚   ã„ã¾ã›ã‚“ã€‚                       â”‚
â”‚                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID   â”‚       â”‚
â”‚   â”‚ user_xxxxxxxx        â”‚       â”‚
â”‚   â”‚ [ğŸ“‹ IDã‚’ã‚³ãƒ”ãƒ¼]      â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                    â”‚
â”‚   ç ”ç©¶è€…ã«ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’         â”‚
â”‚   ä¼ãˆã¦ãã ã•ã„ã€‚                 â”‚
â”‚                                    â”‚
â”‚   [ğŸ”„ å†èª­ã¿è¾¼ã¿]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸»è¦æ©Ÿèƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’localStorageã‹ã‚‰å–å¾—ã—ã¦è¡¨ç¤º
- ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
- å†èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³ã§`window.location.reload()`

---

### 4. StaticUINavigator

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/navigators/StaticUINavigator.tsx`

#### è²¬å‹™
- å›ºå®šUIæ¡ä»¶ï¼ˆstatic_uiï¼‰ç”¨ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
- å›ºå®šUIãƒ•ãƒ­ãƒ¼ç”»é¢ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ãƒ«ãƒ¼ãƒˆå®šç¾©

| Path | Component | èª¬æ˜ |
|------|-----------|------|
| `/` | HomeScreen | ãƒ›ãƒ¼ãƒ  |
| `/concern/input` | ConcernInputScreen | é–¢å¿ƒäº‹å…¥åŠ› |
| `/concern/level` | ConcernLevelScreen | é–¢å¿ƒäº‹ãƒ¬ãƒ™ãƒ« |
| `/concern/category` | CategorySelectionScreen | ã‚«ãƒ†ã‚´ãƒªé¸æŠ |
| `/concern/approach` | ApproachScreen | ã‚¢ãƒ—ãƒ­ãƒ¼ãƒé¸æŠ |
| `/concern/breakdown` | BreakdownScreen | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³åˆ†è§£ |
| `/tasks/recommend` | StaticTaskRecommendationScreen | ã‚¿ã‚¹ã‚¯æ¨å¥¨ï¼ˆå›ºå®šUIç‰ˆï¼‰ |
| `/tasks/recommend/static` | StaticTaskRecommendationScreen | ã‚¿ã‚¹ã‚¯æ¨å¥¨ï¼ˆå›ºå®šUIç‰ˆï¼‰ |
| `/tasks` | TaskListScreen | ã‚¿ã‚¹ã‚¯ä¸€è¦§ |
| `/tasks/create` | TaskCreateScreen | ã‚¿ã‚¹ã‚¯ä½œæˆ |
| `/settings` | SettingsScreen | è¨­å®š |

---

### 5. SettingsScreen

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/screens/SettingsScreen.tsx`

#### è²¬å‹™
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®è¡¨ç¤º
- å®Ÿé¨“æ¡ä»¶ã®è¡¨ç¤º
- çµ±è¨ˆæƒ…å ±ã®è¡¨ç¤º
- ãƒ‡ãƒãƒƒã‚°ç”¨æ¡ä»¶åˆ‡ã‚Šæ›¿ãˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¨­å®š                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ID                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ user_xxxxxxxxxx                 â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®Ÿé¨“æ¡ä»¶                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ å‹•çš„UIç‰ˆ                        â”‚â”‚
â”‚ â”‚ LLMã«ã‚ˆã‚‹å‹•çš„UIç”Ÿæˆã‚’ä½¿ç”¨       â”‚â”‚
â”‚ â”‚ å‰²ã‚Šå½“ã¦æ—¥æ™‚: 2025/10/19 12:00  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çµ±è¨ˆæƒ…å ±                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ã‚¿ã‚¹ã‚¯  â”‚ç€æ‰‹    â”‚å®Œäº†    â”‚ã‚¹ãƒƒã‚­ãƒªâ”‚â”‚
â”‚ â”‚ä½œæˆæ•°  â”‚å›æ•°    â”‚å›æ•°    â”‚åº¦     â”‚â”‚
â”‚ â”‚   5    â”‚   8    â”‚   6    â”‚  2.3  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”§ ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ (é–‹ç™ºç’°å¢ƒã®ã¿)      â”‚
â”‚ [ğŸ”„ æ¡ä»¶ã‚’åˆ‡ã‚Šæ›¿ãˆ]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¡¨ç¤ºæƒ…å ±

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ID**
- localStorageã‹ã‚‰å–å¾—
- monospace ãƒ•ã‚©ãƒ³ãƒˆã§è¡¨ç¤º

**å®Ÿé¨“æ¡ä»¶**
- `experimentService.getCachedCondition()`ã‹ã‚‰å–å¾—
- æœªå‰²ã‚Šå½“ã¦ã®å ´åˆã¯è­¦å‘Šè¡¨ç¤º
- å‰²ã‚Šå½“ã¦æ—¥æ™‚ã¨experimentIdã‚’è¡¨ç¤º

**çµ±è¨ˆæƒ…å ±**
- ã‚¿ã‚¹ã‚¯ä½œæˆæ•°: `db.tasks` ã‹ã‚‰é›†è¨ˆ
- ç€æ‰‹å›æ•°: `db.actionReports` ã‹ã‚‰é›†è¨ˆ
- å®Œäº†å›æ•°: `clarityImprovement` ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¬ãƒãƒ¼ãƒˆæ•°
- å¹³å‡ã‚¹ãƒƒã‚­ãƒªåº¦: å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆã®`clarityImprovement`ã®å¹³å‡

**ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½**
- `import.meta.env.DEV` ã§ã®ã¿è¡¨ç¤º
- è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç¢ºèªå¾Œã« `experimentService.switchCondition()` å®Ÿè¡Œ

---

### 6. AdminUserManagement

**ãƒ•ã‚¡ã‚¤ãƒ«**: `/concern-app/src/screens/AdminUserManagement.tsx`

#### è²¬å‹™
- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰²ã‚Šå½“ã¦çŠ¶æ³ã‚’è¡¨ç¤º
- æ¡ä»¶åˆ¥ã®äººæ•°ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤º
- æ¡ä»¶ã®æ‰‹å‹•å‰²ã‚Šå½“ã¦
- å‰²ã‚Šå½“ã¦ã®å‰Šé™¤

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®Ÿé¨“æ¡ä»¶ç®¡ç†ï¼ˆç®¡ç†è€…ç”¨ï¼‰                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚ å‹•çš„UIç¾¤   â”‚ å›ºå®šUIç¾¤   â”‚ æœªå‰²ã‚Šå½“ã¦ â”‚             â”‚
â”‚ â”‚    2å     â”‚    2å     â”‚    1å     â”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | å®Ÿé¨“æ¡ä»¶ | å‰²ã‚Šå½“ã¦æ—¥æ™‚ | ãƒ¡ãƒ¢ | æ“ä½œ â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ user_001   â”‚ å‹•çš„UI   â”‚ 2025/10/19  â”‚ -   â”‚[å‹•çš„]â”‚
â”‚            â”‚          â”‚   12:00     â”‚     â”‚[å›ºå®š]â”‚
â”‚            â”‚          â”‚             â”‚     â”‚[å‰Šé™¤]â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ user_002   â”‚æœªå‰²ã‚Šå½“ã¦â”‚ -           â”‚ -   â”‚[å‹•çš„]â”‚
â”‚            â”‚          â”‚             â”‚     â”‚[å›ºå®š]â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                       â”‚
â”‚ âš ï¸ é‹ç”¨ã‚¬ã‚¤ãƒ‰                                        â”‚
â”‚ â€¢ è¢«é¨“è€…ã‚’å‡ç­‰ã«å‰²ã‚Šå½“ã¦ã¦ãã ã•ã„                   â”‚
â”‚ â€¢ å‰²ã‚Šå½“ã¦å¾Œã€è¢«é¨“è€…ã«ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ã‚‰ã£ã¦ãã ã•ã„   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸»è¦æ©Ÿèƒ½

**ãƒ‡ãƒ¼ã‚¿å–å¾—**
- `/admin/assignments` ã‹ã‚‰å…¨å‰²ã‚Šå½“ã¦çŠ¶æ³ã‚’å–å¾—
- `/admin/assignments/counts` ã‹ã‚‰æ¡ä»¶åˆ¥äººæ•°ã‚’å–å¾—
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã¯ç¾æ™‚ç‚¹ã§ã¯localStorageã‹ã‚‰ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿å–å¾—ï¼ˆTODO: å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—APIå®Ÿè£…ï¼‰

**æ¡ä»¶å‰²ã‚Šå½“ã¦**
1. ã€Œå‹•çš„UIã€ã¾ãŸã¯ã€Œå›ºå®šUIã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ¡ãƒ¢å…¥åŠ›ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
3. `POST /admin/assignments` APIå‘¼ã³å‡ºã—
4. æˆåŠŸã—ãŸã‚‰ãƒ‡ãƒ¼ã‚¿å†èª­ã¿è¾¼ã¿

**å‰²ã‚Šå½“ã¦å‰Šé™¤**
1. ã€Œå‰Šé™¤ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
3. `DELETE /admin/assignments/:userId` APIå‘¼ã³å‡ºã—
4. æˆåŠŸã—ãŸã‚‰ãƒ‡ãƒ¼ã‚¿å†èª­ã¿è¾¼ã¿

---

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### ExperimentAssignmentï¼ˆå®Ÿé¨“æ¡ä»¶å‰²ã‚Šå½“ã¦ï¼‰

```typescript
interface ExperimentAssignment {
  userId: string;              // ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  condition: 'dynamic_ui' | 'static_ui' | null;  // å®Ÿé¨“æ¡ä»¶
  assignedAt: Date | null;     // å‰²ã‚Šå½“ã¦æ—¥æ™‚
  method: 'manual';            // å‰²ã‚Šå½“ã¦æ–¹æ³•ï¼ˆæ‰‹å‹•ã®ã¿ï¼‰
  experimentId: string;        // å®Ÿé¨“ID
  assignedBy?: string;         // å‰²ã‚Šå½“ã¦ã‚’å®Ÿæ–½ã—ãŸç®¡ç†è€…ID
  note?: string;               // å‰²ã‚Šå½“ã¦æ™‚ã®ãƒ¡ãƒ¢
}
```

### UserProfileæ‹¡å¼µï¼ˆIndexedDBï¼‰

```typescript
interface UserProfile {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...
  
  // Phase 2 Step 5 è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  experimentCondition?: 'dynamic_ui' | 'static_ui';
  experimentAssignedAt?: Date;
  conditionOverriddenByUser?: boolean;  // ãƒ‡ãƒãƒƒã‚°ç”¨åˆ‡ã‚Šæ›¿ãˆãƒ•ãƒ©ã‚°
}
```

---

## APIä»•æ§˜

### 1. GET /v1/config

#### ç›®çš„
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¨­å®šã¨å®Ÿé¨“æ¡ä»¶ã‚’é…å¸ƒ

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
GET /v1/config HTTP/1.1
Host: localhost:3000
X-User-ID: user_xxxxxxxxxx
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "configVersion": "v1.0",
  "weightsVersion": "v1.0",
  "experimentId": "exp_2025_10",
  "experimentAssignment": {
    "condition": "dynamic_ui" | "static_ui" | null,
    "assignedAt": "2025-10-19T03:00:00.000Z" | null,
    "method": "manual",
    "assignedBy": "admin" | null
  },
  "weights": { /* ... */ },
  "uiNoveltyPolicy": { /* ... */ },
  "model": { /* ... */ }
}
```

#### å‹•ä½œ
- `X-User-ID` ãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—
- `ExperimentService.getCondition(userId)` ã‚’å‘¼ã³å‡ºã—
- æœªå‰²ã‚Šå½“ã¦ã®å ´åˆã¯ `condition: null` ã‚’è¿”ã™

---

### 2. GET /admin/assignments

#### ç›®çš„
å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‰²ã‚Šå½“ã¦çŠ¶æ³ã‚’å–å¾—ï¼ˆç®¡ç†ç”»é¢ç”¨ï¼‰

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
GET /admin/assignments HTTP/1.1
Host: localhost:3000
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "assignments": [
    {
      "userId": "user_001",
      "condition": "dynamic_ui",
      "assignedAt": "2025-10-19T03:00:00.000Z",
      "method": "manual",
      "experimentId": "exp_2025_10",
      "assignedBy": "admin",
      "note": "ãƒ†ã‚¹ãƒˆè¢«é¨“è€…1"
    },
    {
      "userId": "user_002",
      "condition": "static_ui",
      "assignedAt": "2025-10-19T03:10:00.000Z",
      "method": "manual",
      "experimentId": "exp_2025_10",
      "assignedBy": "admin",
      "note": null
    }
  ]
}
```

---

### 3. GET /admin/assignments/counts

#### ç›®çš„
æ¡ä»¶åˆ¥ã®äººæ•°ã‚’å–å¾—ï¼ˆç®¡ç†ç”»é¢ç”¨ï¼‰

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
GET /admin/assignments/counts HTTP/1.1
Host: localhost:3000
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "dynamic_ui": 2,
  "static_ui": 2,
  "unassigned": 1
}
```

---

### 4. POST /admin/assignments

#### ç›®çš„
æ¡ä»¶ã‚’æ‰‹å‹•å‰²ã‚Šå½“ã¦

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```json
POST /admin/assignments HTTP/1.1
Host: localhost:3000
Content-Type: application/json

{
  "userId": "user_003",
  "condition": "dynamic_ui",
  "assignedBy": "admin",
  "note": "ãƒ†ã‚¹ãƒˆè¢«é¨“è€…3"
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæˆåŠŸï¼‰
```json
{
  "success": true,
  "assignment": {
    "userId": "user_003",
    "condition": "dynamic_ui",
    "assignedAt": "2025-10-19T03:20:00.000Z",
    "method": "manual",
    "experimentId": "exp_2025_10",
    "assignedBy": "admin",
    "note": "ãƒ†ã‚¹ãƒˆè¢«é¨“è€…3"
  }
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ï¼‰
```json
{
  "error": "Invalid condition",
  "allowed": ["dynamic_ui", "static_ui"]
}
```

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- `userId`: å¿…é ˆ
- `condition`: å¿…é ˆã€'dynamic_ui' ã¾ãŸã¯ 'static_ui'
- `assignedBy`: å¿…é ˆ
- `note`: ã‚ªãƒ—ã‚·ãƒ§ãƒ³

---

### 5. DELETE /admin/assignments/:userId

#### ç›®çš„
å‰²ã‚Šå½“ã¦ã‚’å‰Šé™¤

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
DELETE /admin/assignments/user_003 HTTP/1.1
Host: localhost:3000
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæˆåŠŸï¼‰
```json
{
  "success": true
}
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ï¼‰
```json
{
  "error": "Internal server error",
  "message": "User not found"
}
```

---

### 6. GET /admin/health

#### ç›®çš„
ç®¡ç†è€…APIã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼ˆé–‹ç™ºç”¨ï¼‰

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```
GET /admin/health HTTP/1.1
Host: localhost:3000
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "status": "ok",
  "service": "admin-api",
  "timestamp": "2025-10-19T03:00:00.000Z"
}
```

---

## ç”»é¢ä»•æ§˜

### ç”»é¢ä¸€è¦§

| ç”»é¢å | ãƒ•ã‚¡ã‚¤ãƒ« | è¡¨ç¤ºæ¡ä»¶ | èª¬æ˜ |
|--------|---------|---------|------|
| UnassignedScreen | `UnassignedScreen.tsx` | condition === null | æœªå‰²ã‚Šå½“ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨å¾…æ©Ÿç”»é¢ |
| SettingsScreen | `SettingsScreen.tsx` | å…¨æ¡ä»¶ï¼ˆå…±é€šï¼‰ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨è¨­å®šç”»é¢ |
| AdminUserManagement | `AdminUserManagement.tsx` | ç®¡ç†è€…ã®ã¿ | ç®¡ç†è€…ç”¨æ¡ä»¶ç®¡ç†ç”»é¢ |

è©³ç´°ã¯ä¸Šè¨˜[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…](#ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å®Ÿè£…)ã‚’å‚ç…§ã€‚

---

## é‹ç”¨ãƒ•ãƒ­ãƒ¼

### é€šå¸¸é‹ç”¨ãƒ•ãƒ­ãƒ¼

```
1. è¢«é¨“è€…ç™»éŒ²
   â†“
   è¢«é¨“è€…ãŒã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹
   â†“
   è‡ªå‹•çš„ã«åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒç”Ÿæˆã•ã‚Œã‚‹ (localStorage)
   â†“
   UnassignedScreen ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   â†“
   è¢«é¨“è€…ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’ãƒ¡ãƒ¢ãƒ»ã‚³ãƒ”ãƒ¼

2. ç®¡ç†è€…ã«ã‚ˆã‚‹å‰²ã‚Šå½“ã¦
   â†“
   ç®¡ç†è€…ãŒ AdminUserManagement ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
   â†“
   ãƒ¦ãƒ¼ã‚¶ãƒ¼IDä¸€è¦§ã‚’ç¢ºèª
   â†“
   å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¡ä»¶ã‚’å‰²ã‚Šå½“ã¦ï¼ˆå‹•çš„UI / å›ºå®šUIï¼‰
   â†“
   å‡ç­‰å‰²ã‚Šå½“ã¦ã‚’å¿ƒãŒã‘ã‚‹ï¼ˆå‹•çš„UI: 2-3åã€å›ºå®šUI: 2-3åï¼‰
   â†“
   å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ¢ã‚’è¨˜éŒ²

3. å®Ÿé¨“é–‹å§‹
   â†“
   è¢«é¨“è€…ã«ã‚¢ãƒ—ãƒªã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ã‚‰ã†
   â†“
   å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸæ¡ä»¶ã®UIãŒè¡¨ç¤ºã•ã‚Œã‚‹
   â†“
   é€šå¸¸é€šã‚Šä½¿ç”¨ã—ã¦ã‚‚ã‚‰ã†

4. ãƒ‡ãƒ¼ã‚¿åé›†
   â†“
   ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã«æ¡ä»¶æƒ…å ±ãŒè‡ªå‹•è¨˜éŒ²ã•ã‚Œã‚‹
   â†“
   AdminDashboard ã§ç€æ‰‹ç‡ãƒ»ã‚¹ãƒƒã‚­ãƒªåº¦ã‚’ç¢ºèªï¼ˆPhase 2 Step 6ä»¥é™ï¼‰
```

### ãƒ‡ãƒãƒƒã‚°ãƒ•ãƒ­ãƒ¼ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰

```
é–‹ç™ºè€…ãŒã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹
   â†“
è¨­å®šç”»é¢ (/settings) ã‚’é–‹ã
   â†“
ã€ŒğŸ”§ ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
   â†“
ã€ŒğŸ”„ æ¡ä»¶ã‚’åˆ‡ã‚Šæ›¿ãˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   â†“
è­¦å‘Šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç¢ºèª
   â†“
æ¡ä»¶ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ (dynamic_ui â†” static_ui)
   â†“
è‡ªå‹•çš„ã«ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰
   â†“
åˆ‡ã‚Šæ›¿ã‚ã£ãŸæ¡ä»¶ã®UIãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

---

## å®Ÿè£…ã®åˆ¶ç´„ã¨æ³¨æ„äº‹é …

### åˆ¶ç´„äº‹é …

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ°¸ç¶šåŒ–æœªå®Ÿè£…**
   - ç¾æ™‚ç‚¹ã§ã¯ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆMapï¼‰ã®ã¿
   - ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ã§å‰²ã‚Šå½“ã¦æƒ…å ±ãŒæ¶ˆå¤±
   - TODOã‚³ãƒ¡ãƒ³ãƒˆã§DBå®Ÿè£…ç®‡æ‰€ã‚’æ˜è¨˜

2. **å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—APIæœªå®Ÿè£…**
   - AdminUserManagementç”»é¢ã§ã¯ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿è¡¨ç¤º
   - å®Ÿé‹ç”¨ã«ã¯å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—APIãŒå¿…è¦

3. **èªè¨¼ãƒ»èªå¯ãªã—**
   - AdminUserManagementç”»é¢ã¯èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
   - æœ¬ç•ªé‹ç”¨æ™‚ã¯èªè¨¼æ©Ÿæ§‹ã®è¿½åŠ ãŒå¿…è¦

4. **æœªå‰²ã‚Šå½“ã¦æ•°ã®è¨ˆç®—ãŒä¸æ­£ç¢º**
   - å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ãŒå–å¾—ã§ããªã„ãŸã‚ã€unassignedã¯å¸¸ã«0

### æ³¨æ„äº‹é …

1. **ãƒ‡ãƒãƒƒã‚°ç”¨æ¡ä»¶åˆ‡ã‚Šæ›¿ãˆã®åˆ¶é™**
   - é–‹ç™ºç’°å¢ƒï¼ˆ`import.meta.env.DEV`ï¼‰ã§ã®ã¿æœ‰åŠ¹
   - æœ¬ç•ªç’°å¢ƒã§ã¯å®Ÿè¡Œä¸å¯ï¼ˆæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã‚’æãªã†å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚æ…é‡ã«ä½¿ç”¨

2. **å®Ÿé¨“IDã®å›ºå®š**
   - `experimentId = 'exp_2025_10'` ã§å›ºå®š
   - è¤‡æ•°ã®å®Ÿé¨“ã‚’ä¸¦è¡Œå®Ÿæ–½ã™ã‚‹å ´åˆã¯è¨­è¨ˆå¤‰æ›´ãŒå¿…è¦

3. **å‰²ã‚Šå½“ã¦å¤‰æ›´ã®å½±éŸ¿**
   - æ—¢ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¡ä»¶ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€éå»ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã¨ã®æ•´åˆæ€§ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§
   - å¤‰æ›´ã¯æ…é‡ã«è¡Œã†ã“ã¨

4. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ä¸€è²«æ€§**
   - ã‚µãƒ¼ãƒãƒ¼å´ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ç‹¬ç«‹ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥
   - ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•å¾Œã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ãšã‚Œã‚‹å¯èƒ½æ€§
   - ãƒªãƒ­ãƒ¼ãƒ‰ã§å†å–å¾—ã•ã‚Œã‚‹ãŸã‚å¤§ããªå•é¡Œã¯ãªã„

### å°†æ¥ã®æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Ÿè£…**
   - SQLiteã¾ãŸã¯PostgreSQLã§ã®æ°¸ç¶šåŒ–
   - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ

2. **å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†**
   - `/admin/users` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»å‰Šé™¤æ©Ÿèƒ½

3. **èªè¨¼ãƒ»èªå¯**
   - ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
   - JWTãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚ˆã‚‹èªè¨¼

4. **å‰²ã‚Šå½“ã¦å±¥æ­´**
   - å‰²ã‚Šå½“ã¦å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²
   - èª°ãŒãƒ»ã„ã¤ãƒ»ä½•ã‚’å¤‰æ›´ã—ãŸã‹ã®ç›£æŸ»ãƒ­ã‚°

5. **è‡ªå‹•å‰²ã‚Šå½“ã¦æ©Ÿèƒ½ã®å¾©æ´»**
   - è¢«é¨“è€…æ•°ãŒå¢—ãˆãŸå ´åˆã®è‡ªå‹•å‰²ã‚Šå½“ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³
   - ãƒãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¹ã¾ãŸã¯ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³æ–¹å¼

---

## ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

| Commit Hash | æ—¥ä»˜ | èª¬æ˜ |
|------------|------|------|
| f18e61e | 2025-10-19 | feat(phase2): Implement manual assignment ExperimentService and admin API |
| 2d08dfa | 2025-10-19 | feat(phase2): Implement ClientExperimentService |
| c1c7035 | 2025-10-19 | feat(phase2): Implement A/B testing manual assignment mechanism (client-side) |

---

**ä½œæˆè€…**: AI Agent (Claude Sonnet 4.5)  
**å‚ç…§**: `specs/project/phase2/ab_testing.md`  
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ19æ—¥


# 卒研開発ラストスパート前の論文の目玉決め
筆者談: これ書き上げて出てきた問題点、1ヶ月前に気づくべきやつだろおい〜

---

## 1. 社会寄りの技術的背景:UIの柔軟化
- コンピュータの普遍化により，現代のアプリケーションには複雑な責務と多様な要望が求められる．
- アプリは特定のユースケースに最適化することで「使いやすく」なる．
- 要望が多岐に渡ると機能/UIを全員に最適化することには限度がある．
- LLMでUIを自動生成すればいいのでは？
- 比較表
  - 固定UIアプリ ... 開発コスト小 適合ユーザ:利用コスト小/利益大 不適合ユーザ:利用コスト大/利益小
  - カスタマイズ可能UI ... 開発コスト大 ユーザコスト大 利益:中
  - 従来的自動UI ... 開発コスト中 ユーザコスト中 利益:中 適用可能範囲:限定的
  - LLMリアルタイム動的UI ... 開発コスト中 ユーザコスト小 利益:大(であってほしい) 適用可能範囲:不詳(研究で明らかにしたい)

## 2. 技術的背景:LLMによるコード生成
- LLMによるコーディングは，コード補完から始まり，自然言語の要望をコードに変換，自律コーディングエージェントと発展してきた．
- LLMの出力は再現性がなくブレがある．間違いも多い．
- しかし，開発段階という状況では専門家(プログラマ)がそれを保管すれば問題はない
- つまり，LLM -> プログラマ -> 利用者 となる

## 3. 既存研究: LLMによるリアルタイム生成の問題点と解決方法
- 問題点: LLMは再現性がなく間違いが多い
  - LLM -> 利用者 となり，間に専門家(プログラマ)が挟まらない．
  - 利用ができない，利用に値しないもの(使いづらい,使う意味がない(問題を解決できない),etc.)ができてしまう可能性がある．
- LLM Hardened DSL
  - とは?:LLMが扱いやすい形の Domain Specific Languageを定義すること。役割としては、従来のDSLのようや表現方法の制約にはとどまらず、人間の意図とコンピュータの命令をつなぐ「低レイヤーの通信規格」といえる。
  - どう解決するか？:LLMのミスや的外れは出力や自由度が高すぎる点にある。LLMが自由に動ける世界の範囲を定義する。考えたり記述したりする領域を狭める事で狙い通りの結果を得る、余計なことを考えないのでreasoningに集中できる未調査の仮説
- LLM Hardened DSLの種類
  - 宣言型JSON
  - 手続き型
従来的なUIフレームワークの分類と発想が共通している。
- 今回の基盤にした研究:Jelly
  - どんなアプリ？:スマホあるあるタスクを楽にするアプリ。ユーザが普段、複数のアプリやWebリファレンスを立ち上げて、アプリを行ったり来たりするやつをワンストップで行えるようにする。また，画面がどんどん変化する．理想的には全てのユースケースに最適化した画面をいくつも開発するのがユーザビリティ的に理想だが、そんなことはコスト上現実的なでないような、trivialだが面倒な作業の補佐をする。例としては、ホームパーティ用の料理を選んでいる時、参加者を連絡先一覧から選ぶとベジタリアンの人がいたら肉を除外したりしてくれる。メニュー材料の買い物が必要だとプロンプトで伝えるとショッピングリスト画面に切り替わる
  - どんなシステム？:ユーザによる初期プロンプト、ユーザによるUI操作を起点として、刻々と画面を自動生成する。ユーザ操作->オブジェクト指向データモデル(OODM)および依存関係グラフ(DpG)をLLM生成->そこから、DSLによるUI仕様書をLLM生成→ ルールベースで解釈してHTMLなどの実際の記述をアルゴリズミックにレンダリングする（Webのサーバサイドレンダリングに似てる）
  - 研究で分かったことは？:めちゃくちゃ柔軟なユーザインタフェースを作れた。ユーザ検証も行った。 ジェネラルな用途でいろんなUIが作れるね！

## 4. 位置付け: 既存研究でやってないこと
- JellyはすごくGeneralなもので，特定のアプリに向けたものではない．
  - いわばChatGPTのGUI版と言える．ChatGPTは自然言語(文章)でやり取りをするが，Jelly->ユーザ:GUI ユーザ->Jelly:操作/入力結果 でコミュニケーションをとる．
  - また，Jelly自身もユーザはテキストでプロンプトをたくさん与え続けないといけない(プロアクティブに課題を捉えてくれない)
- 特定課題に適応したLLM Hardened DSLを作成する
  - 元のDSLはgeneralな定義が必要なので，要素が多い．即ちトークンコストが高い．
  - 特定ユースケースならいらない要素を省いてトークンコストを削減し，LLMのプロンプト長くて希釈されちゃう問題で質が下がることを避けられるのでは？
- **先行研究たりてる？**Jellyをもとにしていると言っているが，その分野に絞り込むとまた他のものと同じと言えるのではないか？
  - Jelly調べた時に出てきた他のものと比較 + もっと実例を調べて比較必要！！ 

## 5. 提案手法1: 思考整理支援アプリ
### どんなアプリ？
- 思考整理を補助するアプリ
- ユーザの悩みに合わせて，ユーザが利用する時にUIがリアルタイムで自動生成される．
### なぜこのアプリにリアルタイム動的UI生成が必要なのか？
- 思考整理をする上で，悩みの内容，状況，ユーザのもつ背景，は多様であり，**状況に応じて刻々と変化する**．また，ユーザの認知思考特性は多岐に渡る．
  - "多様である"だけだと，じゃあ100パターン用意すればいいっていう反論に勝てない
- 思考整理を効果的に行うアプリは固定UIでは不十分であると言える．また，悩みは漠然としているのでユーザ自身にカスタマイズをさせるUIも適合しない．
- LLMがどのUI(思考整理手法)をユーザに使用させればいいか？を考える．また，LLMがその思考整理手法の細かい部分をユーザの悩みに微調整する．

- topic: 人間を教育するvsコンピュータを改良する
  - 人間の思考を対象としているので，人間の教育は避けたい
  - 人間を教育してしまうと，教育した通りの思考しかアウトプットできなくなる虞

- topic: それって生成AIじゃないといけないの？従来的な機械学習だとどんな手段がとられてきたか．アルゴリズム的手法は？
  - LLM-Hardened DSLは強みっぽいけど．．．

- topic: 今の仕様で果たしてリアルタイム動的UIは必要なのか？**重点議論**
  - 今の仕様=LLMの主な責務は選ぶ事ではないか？要議論
    - それ以外のめぼしい責務は今の所ある？
    - パッと思いつくのは、細かいラベルの内容変更の必要がある。組み合わせの余地がある？
      - planコンポーネント(Widget)を複数組み合わせて，データを相互連動させるreactivity
      - JellyはItem 2 Itemだったが，Widget 2 Widgetでreactionさせる
      - 上で計画したDSL新仕様はDependency Graphのこと忘れてね？これ必要だよな絶対に
  - 大掛かりなUI生成ではなく、セレクション結果をJSONとかで出せばよくない？と言われてしまったらどう反論するか？
    - 改善必要な場合、どう変えるべき？
    - たとえば、選択部分のみ切り出して1出力1タスクに
    - それか、OODM/DpG生成のときに選択をさせる。部品選定とデータ構造整理は不可分じゃね？
    - いずれにしてもOODM/DpGをする時には部品選定がされていることが重要


## 6. 提案手法2: 何をやるのか? 何を明らかにするのか？
- コンセプト:
  - 人間とコンピュータがお互いに通信するためのものがGUIである
  - 通信の質を上げるためにGUIをリアルタイム生成する
- **LLM Hardened DSLによるリアルタイム動的UI生成システムを特定課題にカスタマイズ**
  - できるのか？
  - どう考えて開発したのか？**方法論**(これが目玉)
  - OODMを挟まなくて良いケースがある
    - 2段階にする意味はどこにある？
    - 精度向上なのか？(=AIの性能が向上したらいらなくなる/今のAIにのみ必要なのか) 
    - 検証可能になる
    - 他の応用もあり得る(生成過程を分析することでユーザのことが何かしらがわかるかも, 例えば教育分野だとユーザに学習効果が出ているのか/どういうのが効果出てるのか)
  - トークン量，コスト
  - モデル比較
  - 実地検証の結果，どんなUIが生まれたか？
- **JSON vs TOON (DSL記述方法の検討)**
  - TOONはLLMのプロンプトにするデータ構造のために最適化されている
  - トークン量，コストがどう変わるか
  - 生成されるUIの質がどう変わるか

## 7. 雑多なアイデア集もといFuture work
コスト、期間的にキツそうだけどどうしてもやらないと研究の価値が低いままだったり、コスト低くて研究の価値に大きく寄与するなら採用

## タスク実行フェーズ（タスク一覧画面）
アプリを開くたびに一番重要なタスクを新鮮なUIで強調表示してを試すユーザ検証
ユーザが何度も画面を開いてその度にUI生成するのはコストが面倒なのと，実験期間が足りないので今回の卒研はやらない
temperatureの調整、今回はommit？

## デバイス情報を取得してcontext-aware強化
実装は終わっており利用可能だが，タスク実行フェーズをやらないため活用先が見つかっていない
思考整理に用いられるなら小コストでできるのでアイデア次第
ただ，思考整理はそこまでcontext-awareである必要があるのか？あったらいいデバイス情報を整理してほしい
今は，曜日，時刻，次のカレンダー予定までの空き時間，現在地(家にいるのが職場/大学にいるのかそれ以外か), デバイス特性(画面大小,マウスかタップか)がある

### 本来やりたい検証
トークン量節約、プロンプト comprehensivenessニアリーイコール長さ、生成結果品質のバランス取り

生成結果品質の評価方法定義、既存研究から引用可能？たとえば開発段階でのコード生成とか
Jellyにも載ってそう

プロンプト長さ*プロンプト品質=プロンプト comprehensiveness
これまた品質が曖昧、これも既存研究？
抽象度、詳細要望どれくらい入れるか。


### planフェーズ
コンポーネント数が多すぎないか
コンポーネント数=
1. プロンプト文字列長
2. 変動度合い（temperatureによるものではなく、ユーザが感じるランダム性）==ユーザビリティ検証必要




### androidローカルLLM
レスポンス、ネットワーク影響受けない
トークン節約が肝、ネットワーク遅延が気にならないほど遅い？
セキュリティ懸念があるタスクに対応可能

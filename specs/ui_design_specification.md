# UI設計仕様書
*「頭の棚卸しノート」アプリ - 画面設計ドキュメント*

## 📋 概要

このドキュメントは、実態把握→方針立案→細分化のCBTフローに基づく固定UI画面の詳細設計仕様です。

### 設計原則
- **認知負荷の分散**: 一画面一機能で複雑さを回避
- **段階的具体化**: 抽象的入力から具体的アクションへの自然な流れ
- **脳科学的フィードバック**: ワーキングメモリ使用率などの直感的指標
- **procrastination対策**: 入力ハードルの最小化

---

## 🎯 画面構成とフロー

```
[ホーム画面] 
    ↓
[1. 関心事入力] (実態把握フェーズ開始)
    ↓
[2. 関心度・切迫度測定]
    ↓
[3. 性質分類選択] (方針立案フェーズ開始)
    ↓
[4. アプローチ提案・選択]
    ↓
[5. 第一歩具体化] (細分化フェーズ開始)
    ↓
[6. アクション実行・報告]
    ↓
[7. 完了フィードバック・振り返り]
```

---

## 📱 詳細画面設計

### 0️⃣ ホーム画面

```
┌─────────────────────────┐
│ 🧠 頭の棚卸しノート            │
├─────────────────────────┤
│                         │
│ 💭 今、気になっていることは？    │
│                         │
│ [📝 新しい関心事を整理する]      │
│                         │
│ ─────────────────────  │
│                         │
│ 📊 現在の頭の状況           │
│ ワーキングメモリ使用率         │
│ ▓▓▓▓▓▓░░░░ 60%       │
│                         │
│ 📋 進行中の関心事 (3件)      │
│ • 卒業研究のテーマ決め [🔴]     │
│ • 友達との旅行計画 [🟡]       │
│ • ジム再開 [🟢]            │
│                         │
│ [📈 統計を見る] [⚙️ 設定]    │
└─────────────────────────┘
```

**UI要素詳細:**
- `新しい関心事を整理する`: メインCTAボタン、青系統
- `ワーキングメモリ使用率`: アニメーション付きプログレスバー
- `進行中の関心事`: 最大3件表示、色分け（🔴高/🟡中/🟢低優先度）

**データ:**
```json
{
  "workingMemoryUsage": 60,
  "activeIssues": [
    {"id": "issue1", "title": "卒業研究のテーマ決め", "priority": "high"},
    {"id": "issue2", "title": "友達との旅行計画", "priority": "medium"},
    {"id": "issue3", "title": "ジム再開", "priority": "low"}
  ]
}
```

---

### 1️⃣ 関心事入力画面（実態把握フェーズ開始）

```
┌─────────────────────────┐
│ ← 📝 関心事の書き出し          │
├─────────────────────────┤
│                         │
│ 今、頭の中で気になっていることを  │
│ そのまま書き出してみましょう      │
│                         │
│ 💡 例：こんなことでもOK！       │
│ ─────────────────────  │
│ • 卒業研究のテーマを決めたい      │
│ • 来月の友達との旅行どうしよう    │
│ • 部屋探しをそろそろ始めないと... │
│ • ジムに久しぶりに行きたいけど... │
│ • 英語の勉強を再開したい        │
│                         │
│ ┌─────────────────────┐ │
│ │ [自由入力テキストエリア]    │ │
│ │ placeholder: "気になって    │ │
│ │ いることを自由に..."       │ │
│ └─────────────────────┘ │
│                         │
│ 💭 完璧に書く必要はありません！   │
│ 思いついたままでOKです          │
│                         │
│ [    次へ進む    ] [スキップ]   │
└─────────────────────────┘
```

**UI要素詳細:**
- `自由入力テキストエリア`: 最小3行、最大10行の自動拡張
- `次へ進む`: 1文字以上入力で活性化
- `スキップ`: 「後で入力する」で一時保留機能

**バリデーション:**
- 最小文字数: 3文字
- 最大文字数: 200文字
- 禁止ワードチェック（安全性担保）

**データ:**
```json
{
  "issueId": "generated-uuid",
  "rawInput": "卒業研究のテーマを決めたいけど、何から始めたらいいかわからない",
  "timestamp": "2025-09-16T10:30:00Z",
  "phase": "reality_check"
}
```

---

### 2️⃣ 関心度・切迫度測定画面

```
┌─────────────────────────┐
│ ← 🔍 この件について教えてください   │
├─────────────────────────┤
│                         │
│ 📝「卒業研究のテーマを決めたい...」 │
│                         │
│ どれくらい気になっていますか？      │
│                         │
│ ○ 🟢 ちょっと気になる程度        │
│   たまに思い出す               │
│                         │
│ ● 🟡 けっこう気になる          │
│   よく頭に浮かぶ               │
│                         │
│ ○ 🔴 かなり気になる           │
│   いつも考えてしまう            │
│                         │
│ ─────────────────────  │
│                         │
│ いつ頃に動き始めたいですか？       │
│                         │
│ ○ 今すぐ ○ 今週中 ● 今月中    │
│ ○ いずれ ○ まだ分からない      │
│                         │
│ ─────────────────────  │
│                         │
│ 📊 推定：頭の使用率 約70%       │
│ ▓▓▓▓▓▓▓░░░           │
│ この件でかなり思考を使ってますね！  │
│                         │
│ [      次へ進む      ]        │
└─────────────────────────┘
```

**UI要素詳細:**
- `関心度選択`: 3段階のラジオボタン、色とアイコンで視覚化
- `時期選択`: 5択のラジオボタン
- `頭の使用率`: 選択に応じてリアルタイム更新

**データ処理:**
```json
{
  "concernLevel": "medium", // low/medium/high
  "urgency": "this_month", // now/this_week/this_month/someday/unknown
  "estimatedMentalLoad": 70,
  "calculatedPriority": "medium-urgent"
}
```

---

### 3️⃣ 性質分類選択画面（方針立案フェーズ開始）

```
┌─────────────────────────┐
│ ← 🎯 どんな種類の関心事かな？      │
├─────────────────────────┤
│                         │
│ 📝「卒業研究のテーマ決め」        │
│ 🟡 けっこう気になる・今月中       │
│                         │
│ 一番近いものを選んでください：      │
│                         │
│ ● 📚 学習・研究・スキル系        │
│   卒業研究、資格勉強、新技術習得等  │
│                         │
│ ○ 🎪 イベント・計画系           │
│   旅行、引越し、就活、転職等      │
│                         │
│ ○ 🏃‍♂️ 習慣・ライフスタイル系      │
│   運動、睡眠、食事、掃除等        │
│                         │
│ ○ 💼 仕事・プロジェクト系        │
│   業務、会議準備、提出物等        │
│                         │
│ ○ 🤔 その他・複合的なもの        │
│   上記に当てはまらないもの        │
│                         │
│ 💡 分類によって最適なアプローチが   │
│ 変わります                    │
│                         │
│ [      次へ進む      ]        │
└─────────────────────────┘
```

**UI要素詳細:**
- 各カテゴリに説明とアイコン
- 選択時にカテゴリの特徴を簡潔に表示
- 前の画面の情報も継続表示

**データ:**
```json
{
  "category": "learning_research",
  "categoryLabel": "学習・研究・スキル系",
  "suggestedApproaches": ["information_gathering", "strategic_planning"]
}
```

---

### 4️⃣ アプローチ提案・選択画面

```
┌─────────────────────────┐
│ ← ⚡ おすすめのアプローチ         │
├─────────────────────────┤
│                         │
│ 📝「卒業研究のテーマ決め」        │
│ 📚「学習・研究・スキル系」        │
│                         │
│ このタイプには、こんな進め方が     │
│ 効果的です：                  │
│                         │
│ ● 🎯【情報整理から始める】       │
│   ✓ 必要な情報をリストアップ      │
│   ✓ 調べる・相談する・学ぶ        │
│   👍 研究系にはこれが一番効果的！  │
│                         │
│ ○ 🚀【具体的行動から始める】      │
│   ✓ 準備・連絡・手続きを進める    │
│   ✓ 小さな一歩から実行           │
│                         │
│ ○ 💭【計画・戦略から始める】      │
│   ✓ スケジュール・手順を考える    │
│   ✓ 目標設定・優先順位を決める    │
│                         │
│ 💡 あなたの状況で最も始めやすい    │
│ ものを選んでください             │
│                         │
│ [      次へ進む      ]        │
└─────────────────────────┘
```

**UI要素詳細:**
- カテゴリに基づいた推奨アプローチをハイライト
- 各アプローチの具体例を箇条書きで表示
- 選択理由の説明付き

**ロジック:**
```javascript
const getRecommendedApproach = (category) => {
  const recommendations = {
    "learning_research": "information_gathering",
    "event_planning": "strategic_planning", 
    "lifestyle_habits": "concrete_action",
    "work_project": "strategic_planning",
    "other": "information_gathering"
  };
  return recommendations[category];
}
```

---

### 5️⃣ 第一歩具体化画面（細分化フェーズ開始）

```
┌─────────────────────────┐
│ ← 🔥 最初の2分でできることは？     │
├─────────────────────────┤
│                         │
│ 📝「卒業研究のテーマ決め」        │
│ 🎯「情報整理から始める」          │
│                         │
│ 今すぐ2分でできそうなことは：      │
│                         │
│ 💡 AI提案：                │
│ • 研究分野をGoogleで3つ検索      │
│ • 興味のあるキーワードをメモ      │
│ • 指導教員のメールアドレス確認    │
│ • 先輩に「研究について相談したい」  │
│   とLINEを送る               │
│                         │
│ ✏️ または、自分で思いつくもの：    │
│ ┌─────────────────────┐ │
│ │ [カスタム入力エリア]        │ │
│ └─────────────────────┘ │
│                         │
│ どれから始めてみますか？          │
│                         │
│ [✨ 今すぐやってみる] [📋 後でやる] │
│                         │
│ ⏰ 2分タイマーも使えます        │
└─────────────────────────┘
```

**UI要素詳細:**
- AI提案は最大4つまで表示
- カスタム入力は任意
- 「今すぐやってみる」が主要CTA

**データ生成:**
```json
{
  "suggestedActions": [
    {
      "id": "action1",
      "description": "研究分野をGoogleで3つ検索",
      "estimatedTime": 120,
      "type": "information_gathering"
    }
  ],
  "selectedAction": "action1",
  "startTime": null
}
```

---

### 6️⃣ アクション実行・報告画面

```
┌─────────────────────────┐
│ ← ⏰ アクション実行中           │
├─────────────────────────┤
│                         │
│ 🎯 やっていること：             │
│ 「研究分野をGoogleで3つ検索」     │
│                         │
│ ⏱️ タイマー（任意）           │
│ ┌─── 02:00 ───┐          │
│ │      ⏸️       │          │
│ └───────────────┘          │
│                         │
│ 💪 頑張って！2分だけです        │
│                         │
│ ─────────────────────  │
│                         │
│ 📝 実行メモ（任意）：           │
│ ┌─────────────────────┐ │
│ │ 何を見つけた？感想は？      │ │
│ │                   │ │
│ └─────────────────────┘ │
│                         │
│ [✅ 完了！] [😔 今回は断念]    │
│                         │
│ 💡 完了でも断念でも、トライした   │
│ ことが素晴らしいです！           │
└─────────────────────────┘
```

**UI要素詳細:**
- タイマーは任意機能（ON/OFF切替可能）
- 実行メモは任意入力
- 完了/断念両方を肯定的に扱う

**データ:**
```json
{
  "actionId": "action1",
  "startTime": "2025-09-16T11:00:00Z",
  "endTime": "2025-09-16T11:02:30Z",
  "status": "completed", // completed/abandoned
  "memo": "3つの分野を調べて、1つ面白そうなものを見つけた",
  "timerUsed": true
}
```

---

### 7️⃣ 完了フィードバック・振り返り画面

```
┌─────────────────────────┐
│ ← ✨ お疲れさまでした！         │
├─────────────────────────┤
│                         │
│ 🎉 アクション完了！            │
│ 「研究分野をGoogleで3つ検索」     │
│                         │
│ 📝 実行メモ：               │
│ "3つの分野を調べて、1つ面白そうな  │
│ ものを見つけた"               │
│                         │
│ ─────────────────────  │
│                         │
│ 🧠 頭のスッキリ度は？          │
│                         │
│ ○ 😊 だいぶスッキリした！       │
│ ● 🙂 少し整理できた           │
│ ○ 😐 まだちょっとモヤモヤ      │
│                         │
│ ─────────────────────  │
│                         │
│ 💭 次に気になることはありますか？   │
│ ┌─────────────────────┐ │
│ │ [任意入力]              │ │
│ └─────────────────────┘ │
│                         │
│ 📊 更新された頭の使用率：        │
│ ▓▓▓▓▓░░░░░ 50% (-20%)  │
│ ワーキングメモリに余裕ができました！ │
│                         │
│ [🎯 他の関心事も整理] [🏠 ホーム] │
└─────────────────────────┘
```

**UI要素詳細:**
- スッキリ度は3段階で測定
- ワーキングメモリ使用率の変化を可視化
- 次のアクションへの自然な導線

**データ:**
```json
{
  "satisfactionLevel": "somewhat_clear", // very_clear/somewhat_clear/still_foggy
  "workingMemoryBefore": 70,
  "workingMemoryAfter": 50,
  "nextConcern": "今度は旅行の計画も気になってきた",
  "sessionComplete": true
}
```

---

## 🔄 データフローと状態管理

### セッションデータ構造
```json
{
  "sessionId": "uuid",
  "startTime": "timestamp",
  "currentPhase": "reality_check | planning | breakdown",
  "currentStep": 1,
  "issueData": {
    "rawInput": "string",
    "concernLevel": "low|medium|high", 
    "urgency": "string",
    "category": "string",
    "approach": "string"
  },
  "actionData": {
    "selectedAction": "string",
    "startTime": "timestamp",
    "status": "pending|in_progress|completed|abandoned",
    "memo": "string"
  },
  "outcomes": {
    "satisfactionLevel": "string",
    "workingMemoryChange": "number",
    "nextConcern": "string"
  }
}
```

### ローカルストレージ
- セッション継続データ
- 完了したセッション履歴（統計用）
- ユーザー設定（タイマー使用等）

### サーバー送信データ（匿名化）
- セッション統計のみ
- 個人特定可能情報は送信しない

---

## 🎨 デザインシステム

### カラーパレット
- **プライマリー**: #4A90E2（青系、信頼感）
- **セカンダリー**: #7ED321（緑系、完了・成功）
- **警告**: #F5A623（オレンジ系、注意喚起）
- **エラー**: #D0021B（赤系、重要度高）
- **背景**: #F8F9FA（ライトグレー）
- **テキスト**: #333333（ダークグレー）

### タイポグラフィ
- **見出し**: 20px, Bold
- **本文**: 16px, Regular  
- **キャプション**: 14px, Regular
- **ボタン**: 16px, Medium

### コンポーネント
- **プライマリーボタン**: 角丸8px, プライマリー色
- **セカンダリーボタン**: 角丸8px, 境界線のみ
- **入力フィールド**: 角丸6px, 境界線
- **プログレスバー**: 角丸4px, アニメーション付き

---

## 📏 レスポンシブ設計

### ブレークポイント
- **モバイル**: 320px - 767px（主要ターゲット）
- **タブレット**: 768px - 1023px  
- **デスクトップ**: 1024px以上

### モバイル最適化
- タップエリア最小44px
- 一画面一機能の徹底
- スクロール最小化
- フォーカス管理の考慮

---

*作成日: 2025年9月16日*  
*バージョン: v1.0*  
*対応MVP要件定義: v1.0*
